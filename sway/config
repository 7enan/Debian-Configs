##########################
##-Run at the beginning-##
##########################

# Wallpaper
exec swaybg -i ~/Imagens/Wallpapers/15.One-Dark.png

# Pywal
exec wal -i ~/Imagens/Wallpapers/15.One-Dark.png 

# Waybar
exec waybar

# Gnome-Keyring
exec gnome-keyring-daemon

# Polkit
exec lxpolkit

# Xdg Portal wlr
exec /usr/libexec/xdg-desktop-portal-wlr

# Steam

exec sleep 2 && steam -silent %U

###############
##-Variables-##
###############

# Logo key
set $mod Mod4

# Custom arrow keys
set $left g
set $down j
set $up y
set $right h

# Terminal emulator
set $term kitty

# Launcher
set $menu rofi -show drun

include /etc/sway/config-vars.d/*

########################
##-Idle Configuration-##
########################

exec swayidle -w \
    timeout 60 'if ~/.config/sway/check_media.sh; then swaymsg "output * dpms off"; fi' \
    resume 'swaymsg "output * dpms on"' \
    timeout 180 'if ~/.config/sway/check_media.sh; then swaylock -f; fi' \
    timeout 300 'if ~/.config/sway/check_media.sh; then systemctl suspend; fi' \
    before-sleep 'swaylock -f'

#########################
##-Input configuration-##
#########################

# Touchpad
   input type:touchpad {
       dwt enabled
       tap enabled
       natural_scroll disable
       middle_emulation enabled
   }

# Keyboard
   input type:keyboard {
       xkb_layout "br" 
   }

##-Shortcuts-##

#-Basics-#

# Start a terminal
bindsym $mod+t exec $term

# Kill focused window
bindsym $mod+q kill

# Start your launcher
bindsym $mod+d exec $menu

#-Floating Windows-#

# Holding $mod and press left mouse button to move floating windows.
# Holding $mod and pres right mouse button to resize floating windows.
# Change normal to inverse to use left mouse button for resizing and right
floating_modifier $mod normal

#-Utilities-#

# Reload the configuration file
bindsym $mod+Shift+c reload

# Exit sway (logs you out of your Wayland session)
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'


#-Navegation-#

# Move your focus
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move focusing windows around
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

#-Workspaces-#

# Switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4

# Move focused container to workspace
bindsym $mod+Shift+1 exec 'swaymsg move container to workspace 1 && swaymsg workspace 1'
bindsym $mod+Shift+2 exec 'swaymsg move container to workspace 2 && swaymsg workspace 2'
bindsym $mod+Shift+3 exec 'swaymsg move container to workspace 3 && swaymsg workspace 3'
bindsym $mod+Shift+4 exec 'swaymsg move container to workspace 4 && swaymsg workspace 4'

#-Layout stuff-#

# You can "split" the current object of your focus with
bindsym $mod+b splith
bindsym $mod+v splitv

# Switch the current container between different layout styles
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# Make the current focus fullscreen
bindsym $mod+f fullscreen

# Toggle the current focus between tiling and floating mode
bindsym $mod+Shift+space floating toggle

# Swap focus between the tiling area and the floating area
bindsym $mod+space focus mode_toggle

# Move focus to the parent container
bindsym $mod+a focus parent

#-Scratchpad-#

# Move the currently focused window to the scratchpad
bindsym $mod+Shift+minus move scratchpad

# Show scratchpad
bindsym $mod+minus scratchpad show

# Resizing containers

mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    # Ditto, with arrow keys
    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    # Return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

#-Especial Keys-#

# Special keys to adjust volume via PulseAudio
bindsym --locked XF86AudioMute exec pactl set-sink-mute \@DEFAULT_SINK@ toggle
bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume \@DEFAULT_SINK@ -5%
bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume \@DEFAULT_SINK@ +5%
bindsym --locked XF86AudioMicMute exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle

# Special keys to adjust brightness via brightnessctl
bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%-
bindsym --locked XF86MonBrightnessUp exec brightnessctl set 5%+

# Special key to take a screenshot with grim
bindsym Print exec grim

#####################
##-Personalization-##
#####################

#-Borders-#
default_floating_border none
default_border pixel 3

title_align center

#-Spacings-#

# Intern
gaps inner 5

#Extern
gaps outer 3

#Floating windows spacings
smart_gaps on

###############
##-Variables-##
###############

#Xorg suport
xwayland enable

##############
##-Includes-##
##############

include /etc/sway/config.d/*
